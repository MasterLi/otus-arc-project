#9 домашнее задание

1. Пользовательские сценарии
ЕСТЬ авторизованный клиент.
ЕСТЬ магазин по продаже товаров.
И ЕСТЬ ненулевой баланс у клиента в сервисе биллинга
КОГДА клиент создал заказ с продуктами в корзине
ТОГДА клиент может перевести заказ в статус Ждет оплаты
КОГДА заказ переходит в статус ЖДЕТ оплаты

ТОГДА с баланса в сервисе биллинга списывается сумма цены заказа
ТОГДА после успешного списания денег заказ переводится в статус Оплачено
ТОГДА отправляется письмо клиенту об успешной покупке

2. Общую схему взаимодействия сервисов.
Для данной реализации выбрано синхронное взаимодействие через HTTP API.
см. схему в файле: Схема_взаимодействия_микросервисов.png

3. Для каждого сервиса опишите назначение сервиса и его зону ответственности.
- микросервис аутентификации пользователя
предназначен для аутентификации пользователя по каком либо стандарту(Oauth, OpenID и т.п.),
выдает токены пользователю в обмен на пару логин-пароль, перенаправляет обратно на сервис ресурсов,
имеет форму входа, делает refresh токена, хранит базу пользователей, и т.п.
- микросервис заказов
предназначен для оформления заказа, корзины
содержит каталог товаров, заказы, корзину, состояния заказов, предоставляет API для фронтенда магазина товаров
- микросервис биллинга
предназначен для работы с балансом пользователей
содержит балансы пользователей, предоставляет услуги по вводу и вывода денег (с карт, например), 
принимает запросы на списание денег с баланса от других микросервисов
- микросервис отправки почты
предназначен для отправки почты, может отправлять как через smtp, так и через интеграции с профильными сервисами,
может хранить журнал отправки почты

4. Опишите контракты взаимодействия сервисов друг с другом.
Контракты описаны на языке Java, файлы контрактов в папке api.
P.S. взаимодействие с микросервисом аутентификации не стал описывать, т.к. у нас на проекте мы его полностью
документировали в Руководство системного программиста, если интересно - могу скинуть в личку.
